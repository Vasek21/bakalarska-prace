<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="$u(b#wlqVwMbbfdW``s(">result_sent</variable><variable id="Szy[BKjEUmF^zJQlB~U2">opponent_result</variable><variable id="+3EY5N6.F?Z$vd7yOF.?">counter</variable></variables><comment id="jFY?Drtb%GeVbE_]H)=U" data="0" x="1465" y="962" h="120" w="430">Declaration and initialization of variables</comment><block type="pxt-on-start" id="f@J!uc1XOI+W9S0EUZ/3" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="or,-8ziKwofN?Q-8uj)d" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let counter = 0" numlines="1" declaredvars="counter"></mutation><next><block type="typescript_statement" id="]wuM!,Io#!3ormd4Iyb9" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function showResult(opponentChoice: Number) {" line1="    const myChoice = Math.abs(counter % 3)" line2="    if (myChoice == 0 &amp;&amp; opponentChoice == 2 || myChoice == 1 &amp;&amp; opponentChoice == 0 || myChoice == 2 &amp;&amp; opponentChoice == 1) {" line3="        basic.showString(&quot;Winner!&quot;)" line4="    } else if (myChoice == 0 &amp;&amp; opponentChoice == 1 || myChoice == 1 &amp;&amp; opponentChoice == 2 || myChoice == 2 &amp;&amp; opponentChoice == 0) {" line5="        basic.showString(&quot;Loser!&quot;)" line6="    } else {" line7="        basic.showString(&quot;Tie!&quot;)" line8="    }" line9="    control.reset()" line10="}" numlines="11"></mutation><next><block type="typescript_statement" id="JM*hq4+W.qo#2~gm3PeA" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let opponent_result: number;" numlines="1" declaredvars="opponent_result"></mutation><next><block type="device_show_leds" id="ot`a9orOmC2~^X,Pr%)]"><field name="LEDS">`
        # . . . # 
        # # . # . 
        # # # . . 
        # # . # . 
        # . . . #
        `</field><next><block type="radio_set_group" id="gWA$9Nz3(~2T1leh:d@~"><value name="ID"><shadow type="math_number_minmax" id="84=lgKilFY3rY=6TrK2N"><mutation min="0" max="255" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="mIW.go5A(t0xuz,WEm_h" x="1328" y="20"><field name="NAME">Button.AB</field><comment pinned="false" h="80" w="160" relx="10" rely="10">Sends players choice to the opponent</comment><statement name="HANDLER"><block type="radio_datagram_send" id="ET2JhVMlRxZCBHQvxfp~"><value name="value"><block type="math_op3" id="V(feU(^|}T/HW}Iy:yB8"><value name="x"><block type="math_modulo" id="PW2Sd{AD+v(2QfX}=Q]="><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="bnrF%+Qh/Bt@!91Er4CN"><field name="VAR" id="+3EY5N6.F?Z$vd7yOF.?">counter</field></block></value><value name="DIVISOR"><shadow type="math_number" id="Or.Zp5m{NgH2x+}KRgq{"><field name="NUM">3</field></shadow></value></block></value></block></value><next><block type="variables_set" id="yctDLmI]iI.t@}k4g*M)"><field name="VAR" id="$u(b#wlqVwMbbfdW``s(">result_sent</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="CkEqSbSlPBFqxz7{%9Jw"><field name="BOOL">TRUE</field></block></value><next><block type="controls_if" id="8QRh|mis{O7Xj6moBE4("><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id=")I*Bo7eyk,[Ye7Y.u%~i"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="}QeL0S(pa@5G=mi[?x:{"><field name="VAR" id="Szy[BKjEUmF^zJQlB~U2">opponent_result</field></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="V#vHkt`r,/smbDS?ZlWF"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=")TYRGL!OB+H3,4#_VMsC"><field name="VAR" id="Szy[BKjEUmF^zJQlB~U2">opponent_result</field></block></value><value name="B"><shadow type="math_number" id="{*]*{a[]7b=|j]mkyi8e"><field name="NUM">0</field></shadow></value></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="7|:9FywNu;?L#r,Je[!p" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="showResult(opponent_result);" numlines="1"></mutation></block></statement></block></next></block></next></block></statement></block><block type="device_button_event" id="BSDJdw6|v.X!9]ErqEr;" x="2146" y="20"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160" relx="10" rely="10">Incremets counter representing players choice</comment><statement name="HANDLER"><block type="controls_if" id="P1vY^*Qped=N$^3;^v9v"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="2*O!?w,C|aRgoOXny8eg"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=".+w:a!M60#swPU9tWZpf"><field name="VAR" id="$u(b#wlqVwMbbfdW``s(">result_sent</field></block></value></block></value><statement name="DO0"><block type="variables_change" id="%9vAR%0jCTAR~a_5bUGX"><field name="VAR" id="+3EY5N6.F?Z$vd7yOF.?">counter</field><value name="VALUE"><shadow type="math_number" id="1(:+Smj2A)(U[T|PrZhU"><field name="NUM">1</field></shadow></value><next><block type="function_call" id=".T=UZ|o`*ux(#QcY^X{A"><mutation name="changeLEDs" functionid="5vag;g0miUk%!p8uI1]7"/></block></next></block></statement></block></statement></block><block type="device_button_event" id="an!0Z%kc6A^N,|ehr6!x" x="2578" y="20"><field name="NAME">Button.B</field><comment pinned="false" h="80" w="160" relx="10" rely="10">Decrements counter representing players choice</comment><statement name="HANDLER"><block type="controls_if" id=")Sp}N80lQHl%l!?Ym#|/"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="M*@*i~Qn3X1HFBZ.Ey.z"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="Ueq^YMwSYq~VP]~a8{q/"><field name="VAR" id="$u(b#wlqVwMbbfdW``s(">result_sent</field></block></value></block></value><statement name="DO0"><block type="variables_change" id="UTH|%+-B-bnq{xq`ohoB"><field name="VAR" id="+3EY5N6.F?Z$vd7yOF.?">counter</field><value name="VALUE"><shadow type="math_number" id="Veo|/U94e3YJsur0a=rE"><field name="NUM">-1</field></shadow></value><next><block type="function_call" id="g5XK}C1$XnIYpagrOkT|"><mutation name="changeLEDs" functionid="5vag;g0miUk%!p8uI1]7"/></block></next></block></statement></block></statement></block><block type="radio_on_number_drag" id="7-agbPX8:Xz-sUdwQ9om" x="20" y="962"><comment pinned="false" h="80" w="160" relx="10" rely="10">Saves opponents choice or evaluates results</comment><value name="HANDLER_DRAG_PARAM_receivedNumber"><shadow type="argument_reporter_number" id="|}d^hHei)^Jq.GR};nd]"><field name="VALUE">receivedNumber</field></shadow></value><statement name="HANDLER"><block type="controls_if" id="_WisLJ)Nn/:q;Xltn+aA"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="xyc13Rw]u;*+K!%^B|cC"><field name="VAR" id="$u(b#wlqVwMbbfdW``s(">result_sent</field></block></value><statement name="DO0"><block type="typescript_statement" id="I4l|EqT0u%[%q)!r7|I2" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="showResult(receivedNumber);" numlines="1"></mutation></block></statement><statement name="ELSE"><block type="variables_set" id="(-rEiG{/[rXc`~Kq=bFG"><field name="VAR" id="Szy[BKjEUmF^zJQlB~U2">opponent_result</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="W#J[xY!1l)B,8[*A_Edl"><field name="VALUE">receivedNumber</field></block></value></block></statement></block></statement></block><block type="function_definition" id="{WMy8D3TZq1t7kc!odW$" x="606" y="962"><mutation name="changeLEDs" functionid="5vag;g0miUk%!p8uI1]7"/><field name="function_name">changeLEDs</field><comment pinned="false" h="80" w="160" relx="10" rely="10">Changes LED display based on counter value</comment><statement name="STACK"><block type="controls_if" id="pvws)I}3[K$MxrR(qv$~"><mutation elseif="1" else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="%xvw37-LKE^|-{lUd!Ck"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_modulo" id="{vom]P_h:_:)@h)rqOlt"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Ecn($e}5ZiyV*$=Kkgm|"><field name="VAR" id="+3EY5N6.F?Z$vd7yOF.?">counter</field></block></value><value name="DIVISOR"><shadow type="math_number" id="+EnY+~f:yNWQWEvAUX:g"><field name="NUM">3</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="15A)B~+R*8M,X!w5uN^M"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="device_show_leds" id="UEFGf!C/ART!2V]wo=.W"><field name="LEDS">`
        # . . . # 
        # # . # . 
        # # # . . 
        # # . # . 
        # . . . #
        `</field></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="$@%m*0{sJ[2t|GySp/+d"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_op3" id="I=0_r^WM_spt$C]`1mWm"><value name="x"><block type="math_modulo" id="t~G=!MY34}rOM%TTS-,k"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="/C#vBQ6?OYKJKG##}@R;"><field name="VAR" id="+3EY5N6.F?Z$vd7yOF.?">counter</field></block></value><value name="DIVISOR"><shadow type="math_number" id="AD)H_Kk-cd:|~Lt4M*X-"><field name="NUM">3</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number" id="_^}.S(|ZU`2TycP;Ju!y"><field name="NUM">1</field></shadow></value></block></value><statement name="DO1"><block type="device_show_leds" id="o6vr7_~DdzTle0n2o`M@"><field name="LEDS">`
        . . . . . 
        . # # # . 
        . # # # . 
        . # # # . 
        . . . . .
        `</field></block></statement><statement name="ELSE"><block type="device_show_leds" id="))eQ6qH%@~qPdR)xZ/3)"><field name="LEDS">`
        # # # # # 
        # . . . # 
        # . . . # 
        # . . . # 
        # # # # #
        `</field></block></statement></block></statement></block></xml>